import{j as u}from"./CyPEYCpI.js";function b(n,e={}){const l=u({}),c=u(null),v=u(!1),a=u(null);async function m(){var f,s,t,d;l.value={},c.value=null,v.value=!0,a.value=null;try{const r=await n();return a.value=!0,(f=e==null?void 0:e.onSuccess)==null||f.call(e,r),r}catch(r){if(c.value=r,a.value=!1,(s=e==null?void 0:e.onError)==null||s.call(e,r),l.value=((t=r.data)==null?void 0:t.errors)??{},((d=r.response)==null?void 0:d.status)!==422)throw r}finally{v.value=!1}}return{submit:m,inProgress:v,succeeded:a,validationErrors:l,error:c}}export{b as u};
